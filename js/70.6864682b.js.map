{"version":3,"file":"js/70.6864682b.js","mappings":"0KAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,kBAAkB,CAACE,YAAY,iBAAiBC,MAAML,EAAIM,QAAU,mBAAqB,GAAGC,MAAM,CAAC,QAAUP,EAAIQ,QAAQ,cAAcR,EAAIS,KAAK,SAAW,GAAG,QAAU,KAAK,UAAU,KAAK,YAAcT,EAAIS,KAAKC,OAAS,IAAI,OAAS,CAAEC,EAAG,KAAMC,EAAG,MAAOC,GAAG,CAAC,OAASb,EAAIc,iBAAiBC,YAAYf,EAAIgB,GAAG,CAAC,CAACC,IAAI,OAAOC,GAAG,UAAS,KAACC,IAAO,OAAOjB,EAAG,IAAI,CAAC,EAAE,CAACF,EAAIoB,GAAGpB,EAAIqB,GAAGF,GAAM,QAAS,MAAK,CAACjB,EAAG,kBAAkB,CAACoB,IAAI,WAAWf,MAAM,CAAC,KAAO,SAAS,wBAA0B,mCAAmCM,GAAG,CAAC,SAAWb,EAAIuB,UAAUC,KAAK,YAAY,GAAGtB,EAAG,IAAI,CAACF,EAAIoB,GAAG,MAAMpB,EAAIqB,GAAGrB,EAAIyB,WAAWf,QAAQ,WAAW,EAChsB,EACGgB,EAAkB,G,+BC2BtB,GACAC,WAAAA,CACAC,cADA,IAEAC,gBAAAA,KAEAC,OACA,OACAtB,QAAAA,CACA,CACAuB,MAAAA,OACAC,UAAAA,OACAf,IAAAA,OACAF,YAAAA,CAAAkB,aAAAA,QAEAC,MAAAA,KAEA,CACAH,MAAAA,KACAC,UAAAA,KACAf,IAAAA,KACAiB,MAAAA,KAEA,CACAH,MAAAA,OACAC,UAAAA,OACAf,IAAAA,OACAiB,MAAAA,KAEA,CACAH,MAAAA,QACAC,UAAAA,QACAf,IAAAA,QACAiB,MAAAA,IACAC,UAAAA,IAGA1B,KAAAA,GACA2B,MAAAA,EACA9B,SAAAA,EACA+B,gBAAAA,GACAZ,WAAAA,GACAa,iBAAAA,EAEA,EACAC,QAAAA,CACAhB,SAAAA,GACA,gBACAiB,YAAAA,KACA,qBACA,aACA,gBACAC,GAAAA,KAAAA,MACAC,KAAAA,KACAC,MAAAA,EACAxB,KAAAA,KAAAA,mBACAyB,MAAAA,KAAAA,qBAGAC,GAAAA,EAAAA,SACA,gBAEA,wBACAL,YAAAA,KACA,0BADA,GAGA,IACA,EACAM,mBACA,SACA,WACA,sBACA,UACA,oBACA,mCACA,eACA,gBACA,6HACA,eACA,MAEA,+BACA,WACA,EACAhC,gBAAAA,GACA,iBACA,GAEAiC,UAGA,GCvH+P,I,UCQ3PC,GAAY,OACd,EACAjD,EACA2B,GACA,EACA,KACA,WACA,MAIF,EAAesB,EAAiB,O","sources":["webpack://a-virtual-table/./src/views/VirtualizedDemo.vue","webpack://a-virtual-table/src/views/VirtualizedDemo.vue","webpack://a-virtual-table/./src/views/VirtualizedDemo.vue?cbc2","webpack://a-virtual-table/./src/views/VirtualizedDemo.vue?5e13"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('a-virtual-table',{staticClass:\"loadmore-table\",class:_vm.loading ? 'table-hide-empty' : '',attrs:{\"columns\":_vm.columns,\"data-source\":_vm.list,\"itemSize\":54,\"keyProp\":\"id\",\"row-key\":\"id\",\"virtualized\":_vm.list.length > 100,\"scroll\":{ x: 1300, y: 600 }},on:{\"change\":_vm.onVirtualChange},scopedSlots:_vm._u([{key:\"name\",fn:function({text}){return _c('a',{},[_vm._v(_vm._s(text)+\"===\")])}}])},[_c('InfiniteLoading',{ref:\"loadmore\",attrs:{\"slot\":\"append\",\"forceUseInfiniteWrapper\":\".loadmore-table .ant-table-body\"},on:{\"infinite\":_vm.loadMore},slot:\"append\"})],1),_c('b',[_vm._v(\"渲染 \"+_vm._s(_vm.renderData.length)+\" 行数据\")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <a-virtual-table\n      class=\"loadmore-table\"\n      :class=\"loading ? 'table-hide-empty' : ''\"\n      :columns=\"columns\"\n      :data-source=\"list\"\n      :itemSize=\"54\"\n      keyProp=\"id\"\n      row-key=\"id\"\n      :virtualized=\"list.length > 100\"\n      :scroll=\"{ x: 1300, y: 600 }\"\n      @change=\"onVirtualChange\">\n      <a slot=\"name\" slot-scope=\"{text}\">{{ text }}===</a>\n      <InfiniteLoading\n        slot=\"append\"\n        ref=\"loadmore\"\n        forceUseInfiniteWrapper=\".loadmore-table .ant-table-body\"\n        @infinite=\"loadMore\">\n      </InfiniteLoading>\n    </a-virtual-table>\n    <b>渲染 {{ renderData.length }} 行数据</b>\n  </div>\n</template>\n\n<script>\nimport AVirtualTable from '../../../src/a-virtual-table'\nimport InfiniteLoading from 'vue-infinite-loading'\n\nexport default {\n  components: {\n    AVirtualTable,\n    InfiniteLoading\n  },\n  data () {\n    return {\n      columns: [\n        {\n          title: 'Name',\n          dataIndex: 'name',\n          key: 'name',\n          scopedSlots: { customRender: 'name' },\n          // fixed: 'left',\n          width: 300\n        },\n        {\n          title: 'id',\n          dataIndex: 'id',\n          key: 'id',\n          width: 300\n        },\n        {\n          title: 'text',\n          dataIndex: 'text',\n          key: 'text',\n          width: 400\n        },\n        {\n          title: 'text2',\n          dataIndex: 'text2',\n          key: 'text2',\n          width: 500,\n          ellipsis: true\n        }\n      ],\n      list: [],\n      count: 0,\n      loading: true,\n      selectedRowKeys: [],\n      renderData: [],\n      loadmoreVisible: true\n    }\n  },\n  methods: {\n    loadMore ($state) {\n      this.loading = true\n      setTimeout(() => {\n        for (let i = 0; i < 30; i++) {\n          this.count++\n          this.list.push({\n            id: this.count,\n            name: '小明',\n            show: false,\n            text: this.getRandomContent(),\n            text2: this.getRandomContent()\n          })\n        }\n        $state && $state.loaded()\n        this.loading = false\n        // ⚠️：此处需要先隐藏下拉加载的dom，不然会下拉添加完数据后会一直滚动到最底部，导致无限的滚动加载\n        this.loadmoreVisible = false\n        setTimeout(() => {\n          this.loadmoreVisible = true\n        })\n      }, 1000)\n    },\n    getRandomContent () {\n      const content = [\n        '这是一条测试数据',\n        '君不见黄河之水天上来，奔流到海不复回。',\n        '十年生死两茫茫',\n        '寻寻觅觅，冷冷清清，凄凄惨惨戚戚。',\n        '桃花坞里桃花庵，桃花庵里桃花仙；桃花仙人种桃树，又摘桃花卖酒钱。',\n        '明月几时有，把酒问青天。',\n        '槛菊愁烟兰泣露，罗幕轻寒，',\n        '寒蝉凄切，对长亭晚，骤雨初歇。都门帐饮无绪，留恋处，兰舟催发。执手相看泪眼，竟无语凝噎。念去去，千里烟波，暮霭沉沉楚天阔。多情自古伤离别，更那堪冷落清秋节！今宵酒醒何处？杨柳岸，晓风残月。此去经年，应是良辰好景虚设。便纵有千种风情，更与何人说？',\n        '红豆生南国，春来发几枝。',\n        '黄鹂'\n      ]\n      const i = Math.floor(Math.random() * 10)\n      return content[i]\n    },\n    onVirtualChange (renderData) {\n      this.renderData = renderData\n    }\n  },\n  mounted () {\n    // const loadmoreEl = this.$refs.loadmore.$el\n    // this.$el.querySelector('.ant-table-body').appendChild(loadmoreEl)\n  }\n}\n</script>\n\n<style lang='less' scoped>\n.table-hide-empty {\n  :deep(.ant-table-placeholder) {\n    display: none;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./VirtualizedDemo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./VirtualizedDemo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VirtualizedDemo.vue?vue&type=template&id=9f875f74&scoped=true&\"\nimport script from \"./VirtualizedDemo.vue?vue&type=script&lang=js&\"\nexport * from \"./VirtualizedDemo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./VirtualizedDemo.vue?vue&type=style&index=0&id=9f875f74&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9f875f74\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","class","loading","attrs","columns","list","length","x","y","on","onVirtualChange","scopedSlots","_u","key","fn","text","_v","_s","ref","loadMore","slot","renderData","staticRenderFns","components","AVirtualTable","InfiniteLoading","data","title","dataIndex","customRender","width","ellipsis","count","selectedRowKeys","loadmoreVisible","methods","setTimeout","id","name","show","text2","$state","getRandomContent","mounted","component"],"sourceRoot":""}