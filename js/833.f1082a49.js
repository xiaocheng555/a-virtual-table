"use strict";(self["webpackChunka_virtual_table_demo"]=self["webpackChunka_virtual_table_demo"]||[]).push([[833,786,334],{833:function(e,t,a){a.r(t),a.d(t,{default:function(){return f}});var l=function(){var e=this,t=e._self._c;return t("div",[t("el-alert",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"warning"}},[e._v(" 过滤、搜索组件使用 a-table-header-search、a-table-header-filter 组件， "),t("a",{attrs:{href:"https://github.com/xiaocheng555/a-virtual-table/tree/master/demo/src/views/components",target:"_blank"}},[e._v("详细请查看这里")])]),t("a-virtual-table",{attrs:{columns:e.columns,"data-source":e.list,itemSize:54,keyProp:"id","row-key":"id",scroll:{x:1300,y:600}},scopedSlots:e._u([{key:"filterId",fn:function({confirm:a,column:l}){return t("a-table-header-search",{on:{filter:t=>e.onSearch(t,l,a)}})}},{key:"filterCount",fn:function({confirm:a,column:l}){return t("a-table-header-search",{on:{filter:t=>e.onSearch(t,l,a)}})}},{key:"filterText1",fn:function({confirm:a,column:l}){return t("a-table-header-filter",{attrs:{filters:e.textFilters},on:{filter:t=>e.onSearch(t,l,a)}})}},{key:"filterText2",fn:function({confirm:a,column:l}){return t("a-table-header-filter",{attrs:{filters:e.textFilters,multiple:!1},on:{filter:t=>e.onSearch(t,l,a)}})}},{key:"name",fn:function({text:a}){return t("a",{},[e._v(e._s(a)+"===")])}}])})],1)},n=[],r=a(79879),s=a(82659),i=a(2334),o=a(77786),c={components:{AVirtualTable:s.Z,ATableHeaderSearch:i["default"],ATableHeaderFilter:o["default"]},data(){return{textFilters:[{text:"十年",value:"十年"},{text:"桃花",value:"桃花"},{text:"Submenu",value:"Submenu",children:[{text:"测试数据",value:"测试数据"},{text:"明月",value:"明月"}]}],columns:[{title:"Name",dataIndex:"name",key:"name",scopedSlots:{customRender:"name"},width:200},{title:"id",dataIndex:"id",key:"id",width:200,scopedSlots:{filterDropdown:"filterId"}},{title:"count",dataIndex:"count",key:"count",ellipsis:!0,width:200,scopedSlots:{filterDropdown:"filterCount"}},{title:"text",dataIndex:"text",key:"text",width:400,scopedSlots:{filterDropdown:"filterText1"}},{title:"text2",dataIndex:"text2",key:"text2",width:400,scopedSlots:{filterDropdown:"filterText2"}},{title:"Long Column Long Column",dataIndex:"address",key:"address 3",ellipsis:!0,width:300},{title:"Long Column",dataIndex:"address",key:"address 4",ellipsis:!0,width:150,fixed:"right"}],list:(0,r.c)(0,2e3),originList:[],serachParams:{id:"",count:"",text:[],text2:[]}}},methods:{onSearch(e,t,a){Object.assign(this.serachParams,{[t.dataIndex]:e});const{id:l,count:n,text:r,text2:s}=this.serachParams;this.list=this.originList.filter((e=>e.id.toString().toLowerCase().includes(l.toLowerCase())&&e.count.toString().toLowerCase().includes(n.toLowerCase())&&(0===s.length||s.some((t=>e.text2.toLowerCase().includes(t.toLowerCase()))))&&(0===r.length||r.some((t=>e.text.toLowerCase().includes(t.toLowerCase())))))),a()}},created(){this.originList=this.list}},d=c,u=a(1001),h=(0,u.Z)(d,l,n,!1,null,"4f3678b5",null),f=h.exports},77786:function(e,t,a){a.r(t),a.d(t,{default:function(){return c}});var l=function(){var e=this,t=e._self._c;return t("div",{staticClass:"a-table-header-filter"},[t("a-menu",{staticClass:"ant-dropdown-menu",attrs:{openKeys:e.openKeys,prefixCls:"ant-dropdown-menu",multiple:e.multiple},on:{select:e.onSelect,deselect:e.onDeSelect,openChange:e.onOpenChange}},[e._l(e.filters,(function(a){return[Array.isArray(a.children)&&a.children.length>0?t("a-sub-menu",{key:a.value,attrs:{popupClassName:"ant-table-filter-dropdown-submenu",value:a.value,title:a.text},on:{click:e.onSubTitleClick}},e._l(a.children,(function(a){return t("a-menu-item",{key:a.value},[e.multiple?t("a-checkbox",{attrs:{checked:e.selectedKeys.indexOf(a.value)>=0}}):t("a-radio",{attrs:{checked:e.selectedKeys.indexOf(a.value)>=0}}),t("span",[e._v(e._s(a.text))])],1)})),1):[t("a-menu-item",{key:a.value},[e.multiple?t("a-checkbox",{attrs:{checked:e.selectedKeys.indexOf(a.value)>=0}}):t("a-radio",{attrs:{checked:e.selectedKeys.indexOf(a.value)>=0}}),t("span",[e._v(e._s(a.text))])],1)]]}))],2),t("div",{staticClass:"ant-table-filter-dropdown-btns"},[t("a",{staticClass:"ant-table-filter-dropdown-link confirm",on:{click:e.handleConfirm}},[e._v(" Ok ")]),t("a",{staticClass:"ant-table-filter-dropdown-link clear",on:{click:e.handleClearFilters}},[e._v(" Reset ")])])],1)},n=[],r={name:"a-table-header-filter",props:{multiple:{type:Boolean,default:!0},filters:{type:Array,default:()=>[]}},data(){return{selectedKeys:[],openKeys:[],stopSubClose:!1}},methods:{onOpenChange(e){this.stopSubClose||(this.openKeys=e)},onSubTitleClick(){this.stopSubClose=!0,this.$nextTick((()=>{this.stopSubClose=!1}))},onSelect({selectedKeys:e}){this.selectedKeys=e},onDeSelect({selectedKeys:e}){this.selectedKeys=e},handleConfirm(){this.setFilterIconActive(this.selectedKeys.length>0),this.$emit("filter",this.selectedKeys)},handleClearFilters(){this.selectedKeys=[],this.handleConfirm()},setFilterIconActive(e){let t=this;while(t){if(t=t.$parent,!t)break;if(t&&t.$el.className.indexOf("anticon-filter")>-1){t.$el.style.color=e?"#1890ff":"";break}}}},created(){}},s=r,i=a(1001),o=(0,i.Z)(s,l,n,!1,null,"5b5f9ef8",null),c=o.exports},2334:function(e,t,a){a.r(t),a.d(t,{default:function(){return c}});var l=function(){var e=this,t=e._self._c;return t("div",{staticClass:"a-table-header-search"},[t("a-input",{staticClass:"search-input",attrs:{placeholder:e.placeholder},on:{pressEnter:e.handleSearch},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}),t("a-button",{staticClass:"confirm-button",attrs:{type:"primary",icon:"search",size:"small"},on:{click:e.handleSearch}},[e._v(" Search ")]),t("a-button",{staticClass:"cancel-button",attrs:{size:"small"},on:{click:e.handleReset}},[e._v(" Reset ")])],1)},n=[],r={name:"a-table-header-search",props:{placeholder:{type:String}},data(){return{keyword:""}},methods:{handleSearch(){this.setFilterIconActive(this.keyword.length>0),this.$emit("filter",this.keyword)},handleReset(){this.keyword="",this.handleSearch()},setFilterIconActive(e){let t=this;while(t){if(t=t.$parent,!t)break;if(t&&t.$el.className.indexOf("anticon-filter")>-1){t.$el.style.color=e?"#1890ff":"";break}}}}},s=r,i=a(1001),o=(0,i.Z)(s,l,n,!1,null,"099c6b6e",null),c=o.exports},79879:function(e,t,a){function l(e,t){const a=[];for(let l=e;l<t;l++){const t=r(),s=r();a.push({id:e++,index:l,text:t,text2:s,show:!1,checked:!1,date:(new Date).toLocaleString(),name:"王小虎",province:"上海",city:"普陀区",address:"上海市普陀区金沙江路 1518 弄",zip:200333,category:"江浙小吃、小吃零食",desc:"荷兰优质淡奶，奶香浓而不腻",shop:"王小虎夫妻店",shopId:"10333",count:n(0,1e3)})}return a}function n(e,t){return Math.floor(Math.random()*(t-e))+e}function r(){const e=["这是一条测试数据","君不见黄河之水天上来，奔流到海不复回。","十年生死两茫茫","寻寻觅觅，冷冷清清，凄凄惨惨戚戚。","桃花坞里桃花庵，桃花庵里桃花仙；桃花仙人种桃树，又摘桃花卖酒钱。","明月几时有，把酒问青天。","槛菊愁烟兰泣露，罗幕轻寒，","寒蝉凄切，对长亭晚，骤雨初歇。都门帐饮无绪，留恋处，兰舟催发。执手相看泪眼，竟无语凝噎。念去去，千里烟波，暮霭沉沉楚天阔。多情自古伤离别，更那堪冷落清秋节！今宵酒醒何处？杨柳岸，晓风残月。此去经年，应是良辰好景虚设。便纵有千种风情，更与何人说？","红豆生南国，春来发几枝。","黄鹂"],t=Math.floor(10*Math.random());return e[t]}a.d(t,{c:function(){return l}})}}]);
//# sourceMappingURL=833.f1082a49.js.map